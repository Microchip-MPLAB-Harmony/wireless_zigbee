<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="BDB Commissioning APIs" />
<meta name="DC.relation" scheme="URI" content="GUID-30FDFF33-1536-44CF-BC7C-57139F215ED4.html" />
<meta name="DC.relation" scheme="URI" content="GUID-342E3571-D9A5-41B0-ADEC-F781ABC209CB.html" />
<meta name="DC.relation" scheme="URI" content="GUID-EE9C4D73-80E2-4A18-929B-65EDA577DE2E.html" />
<meta name="DC.relation" scheme="URI" content="GUID-AC994CE6-82C3-4862-B635-3F4420E55647.html" />
<meta name="DC.relation" scheme="URI" content="GUID-09849E00-A5C1-41EE-A9DF-1F7B9B53C626.html" />
<meta name="DC.relation" scheme="URI" content="GUID-8386AECE-8194-4CCA-8C32-B2ABB060A1E2.html" />
<meta name="DC.relation" scheme="URI" content="GUID-958A8269-CD06-4872-86FB-0984D53561E2.html" />
<meta name="DC.relation" scheme="URI" content="GUID-000800A5-C333-4D6F-A9FE-4FB0682783A5.html" />
<meta name="DC.relation" scheme="URI" content="GUID-245B0A13-3A4E-4819-9B4D-7A57DE276308.html" />
<meta name="DC.relation" scheme="URI" content="GUID-56EC5D19-A462-4C76-B261-862D68E867B5.html" />
<meta name="DC.relation" scheme="URI" content="GUID-B2AA1152-C7C7-437A-988A-D35C3008B61C.html" />
<meta name="DC.relation" scheme="URI" content="GUID-99D76CFE-A3FC-4286-9957-2C0089D0D758.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="GUID-A10ACB70-BB43-4614-853C-AE0CCEB796A5" />
<meta name="DC.language" content="en-US" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<title>BDB Commissioning APIs</title>
<meta name="Microsoft.Help.Id" content="GUID-1DD68C79-8AC2-497D-A1BB-49D92D3FDAB8-GUID-A10ACB70-BB43-4614-853C-AE0CCEB796A5" />
<meta name="Microsoft.Help.TocParent" content="GUID-1DD68C79-8AC2-497D-A1BB-49D92D3FDAB8-GUID-30FDFF33-1536-44CF-BC7C-57139F215ED4" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLAB Harmony Wireless Zigbee Reference A 04/2022" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
         
         function copyContent(content, button) {
         
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                     button.textContent = "Copy";
                     button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
               console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
         }
         
         function cpy(id, button) {
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            
            copyContent(content, button);
         }
         
         document.addEventListener("DOMContentLoaded", function(event) {
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.style.position = "relative";
               var copy = document.createElement("button");
               copy.textContent = "Copy";
               copy.setAttribute("class", "copy-code");
               
               var content = elem.textContent;
               
               copy.addEventListener("click", function(){
                  copyContent(content, copy);
               });
               
               elem.addEventListener("mouseenter", function(evt){
                  elem.prepend(copy);
               });
            });
            
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.addEventListener("mouseleave", function(evt){
                  document.querySelector(".copy-code").remove();
               });
            });
         });
         
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-A10ACB70-BB43-4614-853C-AE0CCEB796A5"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /></head>
<body id="GUID-A10ACB70-BB43-4614-853C-AE0CCEB796A5">

<h1 class="title topictitle1" id="GUID-A10ACB70-BB43-4614-853C-AE0CCEB796A5__GUID-AD9534B4-B7C3-45C1-BAD8-5CA2745D96C2">BDB Commissioning APIs</h1>
    <div class="body">
        <p class="p">BDB APIs related to commissioning is listed here</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="GUID-A10ACB70-BB43-4614-853C-AE0CCEB796A5__TABLE_PZK_PKW_3TB" class="table" frame="border" border="1" rules="all">
                <col style="width:26.525198938992045%" />
                <col style="width:73.47480106100795%" />
                <tbody class="tbody">
                    <tr class="row">
                        <td class="entry cellrowborder" colspan="2" style="vertical-align:middle;"><span><strong class="ph b">Functions</strong></span></td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>void </span></td>

                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>BDB_ConfigureInstallCode(ExtAddr_t deviceAddress, uint8_t
                            *installCode, IcStatusCallback_t pfCallback)<p class="p">This API calculates the
                                CRC for the install code and compare with the given CRC. Derives the
                                link key using SSP AES and sets the key in APS Key Pair
                            Set</p>
</span></td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>bool </span></td>

                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>BDB_InvokeCommissioning(BDB_InvokeCommissioningReq_t *req)<p class="p">The
                                commissioning API invokes the commissioning based on the given
                                information in the request structure</p>
</span></td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>void </span></td>

                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>void BDB_ResetVia_TouchlinkCluster(ResetTargetCallback_t
                                pfcallback)<p class="p"> Resets the target device to factory defaults using
                                touchlink commissioning cluster. TBD-Whether such API is needed or
                                not based on application defintion</p>
</span></td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>void </span></td>

                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>BDB_SetInstallCodeUsage(bool useInstallCode)<p class="p"> Sets the install code
                                usage at the trust center </p>
</span></td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>void </span></td>

                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>BDB_SetNodeJoinTimeout(uint8_t timeOutInSec)<p class="p">Sets the Node Join
                                TimeOut</p>
</span></td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>void </span></td>

                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>BDB_SetTCLKExchangeMethod(uint8_t exchangeMethod)<p class="p">Sets the TCLK
                                Exchange Method BDB attribute</p>
</span></td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>void </span></td>

                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>BDB_SetTCLKRetryMaxAttempts(uint8_t attempts)<p class="p"> Sets the TCLK Retry
                                Max Attempts BDB attribute </p>
</span></td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>void </span></td>

                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>BDB_SetTCRequireKeyExchange(bool requireKeyExchange)<p class="p">Sets the Trust
                                center Require key change or not of the joining device </p>
</span></td>

                    </tr>

                    <tr class="row">
                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>void </span></td>

                        <td class="entry cellrowborder" style="vertical-align:middle;"><span>BDB_SetToulinkRole(bool initiator)<p class="p">Sets the Touchlink role
                            </p>
</span></td>

                    </tr>

                </tbody>

            </table>
</div>

    </div>

<div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="GUID-342E3571-D9A5-41B0-ADEC-F781ABC209CB.html">BDB_SetBdbNodeIsOnANetwork Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-EE9C4D73-80E2-4A18-929B-65EDA577DE2E.html">BDB_ConfigureInstallCode Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-AC994CE6-82C3-4862-B635-3F4420E55647.html">BDB_InvokeCommissioning Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-09849E00-A5C1-41EE-A9DF-1F7B9B53C626.html">BDB_ResetVia_TouchlinkCluster Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-8386AECE-8194-4CCA-8C32-B2ABB060A1E2.html">BDB_SetInstallCodeUsage Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-958A8269-CD06-4872-86FB-0984D53561E2.html">BDB_SetNodeJoinTimeout Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-000800A5-C333-4D6F-A9FE-4FB0682783A5.html">BDB_SetTCLKExchangeMethod Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-245B0A13-3A4E-4819-9B4D-7A57DE276308.html">BDB_SetTCLKRetryMaxAttempts Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-56EC5D19-A462-4C76-B261-862D68E867B5.html">BDB_SetTCRequireKeyExchange Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-B2AA1152-C7C7-437A-988A-D35C3008B61C.html">BDB_SetToulinkRole Function</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="GUID-99D76CFE-A3FC-4286-9957-2C0089D0D758.html">BDB_ResetIB Function</a></strong><br />
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-30FDFF33-1536-44CF-BC7C-57139F215ED4.html">BDB APIs</a></div>
</div>
</div></body>
</html>