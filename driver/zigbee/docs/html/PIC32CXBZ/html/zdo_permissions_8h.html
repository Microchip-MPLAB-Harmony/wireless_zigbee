<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PIC32CX-BZ Zigbee API Reference: zdoPermissions.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PIC32CX-BZ Zigbee API Reference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">zdoPermissions.h File Reference</div>  </div>
</div>
<div class="contents">

<p>Interface of the permissions configuration table.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="aps_8h_source.html">aps.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="zdo_8h_source.html">zdo.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="sys_events_8h_source.html">sysEvents.h</a>&gt;</code><br/>
</div>
<p><a href="zdo_permissions_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zdo_permissions_8h.html#aecd6bb55acb30098f1d2fc51c0a2d698">ZDO_IS_PERMITTED</a>(status)&#160;&#160;&#160;(ZDO_SUCCESS_STATUS == (status))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae16b387a055c726939912bd8559e8d6f"></a><!-- doxytag: member="zdoPermissions.h::ZDO_IS_NOT_PERMITTED" ref="ae16b387a055c726939912bd8559e8d6f" args="(status)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ZDO_IS_NOT_PERMITTED</b>(status)&#160;&#160;&#160;(ZDO_SUCCESS_STATUS != (status))</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="sys_events_8h.html#a49dae244563b730c67f61c8508593f3e">BcAction_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zdo_permissions_8h.html#a60a9737428561df8e721b46d73332ae9">ZDO_SetDefaultPermissions</a> (<a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a> permissions)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The permissions that will be used by default.  <a href="#a60a9737428561df8e721b46d73332ae9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zdo_permissions_8h.html#a0f330ca42f5325676d0204a9bc3e67b2">ZDO_GetDefaultPermissions</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets default permissions.  <a href="#a0f330ca42f5325676d0204a9bc3e67b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="zdo_common_8h.html#afceb1ef32c21b6fa29f4dc0f57c48075">ZDO_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zdo_permissions_8h.html#a59276b9117742f03ce035ba72857c22b">ZDO_SetPermissions</a> (const <a class="el" href="mac_addr_8h.html#a5b2913b1523fd1ce0a399c4fb047cc8b">ExtAddr_t</a> *deviceAddress, <a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a> permissions)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set permissions for actions which can be performed by the device.  <a href="#a59276b9117742f03ce035ba72857c22b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zdo_permissions_8h.html#a1529fe834e8220aea6019767772149e8">ZDO_GetPermissions</a> (const <a class="el" href="mac_addr_8h.html#a5b2913b1523fd1ce0a399c4fb047cc8b">ExtAddr_t</a> *deviceAddress)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets permissions which the device has.  <a href="#a1529fe834e8220aea6019767772149e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="zdo_common_8h.html#afceb1ef32c21b6fa29f4dc0f57c48075">ZDO_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zdo_permissions_8h.html#a9c1e53fb6a895d4b973488cc40da6809">ZDO_UpdatePermissions</a> (const <a class="el" href="mac_addr_8h.html#a5b2913b1523fd1ce0a399c4fb047cc8b">ExtAddr_t</a> *deviceAddress, <a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a> permissions, <a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a> mask)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the permissions record which are associated with the device.  <a href="#a9c1e53fb6a895d4b973488cc40da6809"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="zdo_common_8h.html#afceb1ef32c21b6fa29f4dc0f57c48075">ZDO_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zdo_permissions_8h.html#ae6387041514dc84aaf582635f554076a">ZDO_DeletePermissions</a> (const <a class="el" href="mac_addr_8h.html#a5b2913b1523fd1ce0a399c4fb047cc8b">ExtAddr_t</a> *deviceAddress)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find and remove permissions from the permissions table.  <a href="#ae6387041514dc84aaf582635f554076a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="zdo_common_8h.html#afceb1ef32c21b6fa29f4dc0f57c48075">ZDO_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zdo_permissions_8h.html#a30f4397d14413e6f5d9e07f403fae48b">ZDO_CheckPermissions</a> (<a class="el" href="mac_addr_8h.html#a5b2913b1523fd1ce0a399c4fb047cc8b">ExtAddr_t</a> deviceAddress, <a class="el" href="sys_events_8h.html#a49dae244563b730c67f61c8508593f3e">BcAction_t</a> action)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Is permitted the set of actions or not?  <a href="#a30f4397d14413e6f5d9e07f403fae48b"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Interface of the permissions configuration table. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Microchip Corporation: <a href="http://www.microchip.com">http://www.microchip.com</a> <br/>
 Support email: <a href="mailto:support@microchip.com">support@microchip.com</a></dd></dl>
<p>Copyright (c) 2018, Microchip Corporation. All rights reserved. Licensed under Mirochip's Limited License Agreement. </p>

<p>Definition in file <a class="el" href="zdo_permissions_8h_source.html">zdoPermissions.h</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="aecd6bb55acb30098f1d2fc51c0a2d698"></a><!-- doxytag: member="zdoPermissions.h::ZDO_IS_PERMITTED" ref="aecd6bb55acb30098f1d2fc51c0a2d698" args="(status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZDO_IS_PERMITTED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">status</td><td>)</td>
          <td>&#160;&#160;&#160;(ZDO_SUCCESS_STATUS == (status))</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks that some action is permitted or not. </p>

<p>Definition at line <a class="el" href="zdo_permissions_8h_source.html#l00033">33</a> of file <a class="el" href="zdo_permissions_8h_source.html">zdoPermissions.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a73b176949462ce05d14a5eb286c7fe55"></a><!-- doxytag: member="zdoPermissions.h::ZDO_Permissions_t" ref="a73b176949462ce05d14a5eb286c7fe55" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="sys_events_8h.html#a49dae244563b730c67f61c8508593f3e">BcAction_t</a> <a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Permissions to perform actions on given device. Permissions can be combined as actions using the OR operand. </p>

<p>Definition at line <a class="el" href="zdo_permissions_8h_source.html#l00041">41</a> of file <a class="el" href="zdo_permissions_8h_source.html">zdoPermissions.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a60a9737428561df8e721b46d73332ae9"></a><!-- doxytag: member="zdoPermissions.h::ZDO_SetDefaultPermissions" ref="a60a9737428561df8e721b46d73332ae9" args="(ZDO_Permissions_t permissions)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ZDO_SetDefaultPermissions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a>&#160;</td>
          <td class="paramname"><em>permissions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The permissions that will be used by default. </p>
<p>If the ZDO_CheckDevicePermissions function hasn't found any permissions that associated with the passed address then it will return the default permissions.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">permissions</td><td>- the set of default permissions for all actions, </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a0f330ca42f5325676d0204a9bc3e67b2"></a><!-- doxytag: member="zdoPermissions.h::ZDO_GetDefaultPermissions" ref="a0f330ca42f5325676d0204a9bc3e67b2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a> ZDO_GetDefaultPermissions </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets default permissions. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Permissions that are applied by default if there is no special record for the particular device. All 0xff mean that all actions are permitted. </dd></dl>

</div>
</div>
<a class="anchor" id="a59276b9117742f03ce035ba72857c22b"></a><!-- doxytag: member="zdoPermissions.h::ZDO_SetPermissions" ref="a59276b9117742f03ce035ba72857c22b" args="(const ExtAddr_t *deviceAddress, ZDO_Permissions_t permissions)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zdo_common_8h.html#afceb1ef32c21b6fa29f4dc0f57c48075">ZDO_Status_t</a> ZDO_SetPermissions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="mac_addr_8h.html#a5b2913b1523fd1ce0a399c4fb047cc8b">ExtAddr_t</a> *&#160;</td>
          <td class="paramname"><em>deviceAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a>&#160;</td>
          <td class="paramname"><em>permissions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set permissions for actions which can be performed by the device. </p>
<p>[in] deviceAddress - the pointer the extended address of the device for which new entry in the permissions table is created. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">permissions</td><td>- permissions which are associated with the given device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ZDO_SUCCESS_STATUS if the operation completed successfuly otherwise ZDO_TABLE_FULL_STATUS if the table doesn't have enough space ZDO_INVALID_PARAMETERS_STATUS if a parameter has an invalid value. For example, the permissions mask has a bit which doesn't associated with any supported action. </dd></dl>

</div>
</div>
<a class="anchor" id="a1529fe834e8220aea6019767772149e8"></a><!-- doxytag: member="zdoPermissions.h::ZDO_GetPermissions" ref="a1529fe834e8220aea6019767772149e8" args="(const ExtAddr_t *deviceAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a> ZDO_GetPermissions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="mac_addr_8h.html#a5b2913b1523fd1ce0a399c4fb047cc8b">ExtAddr_t</a> *&#160;</td>
          <td class="paramname"><em>deviceAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets permissions which the device has. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceAddress</td><td>- the IEEE address of the device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Actual permissions which will be applied to the device. </dd></dl>

</div>
</div>
<a class="anchor" id="a9c1e53fb6a895d4b973488cc40da6809"></a><!-- doxytag: member="zdoPermissions.h::ZDO_UpdatePermissions" ref="a9c1e53fb6a895d4b973488cc40da6809" args="(const ExtAddr_t *deviceAddress, ZDO_Permissions_t permissions, ZDO_Permissions_t mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zdo_common_8h.html#afceb1ef32c21b6fa29f4dc0f57c48075">ZDO_Status_t</a> ZDO_UpdatePermissions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="mac_addr_8h.html#a5b2913b1523fd1ce0a399c4fb047cc8b">ExtAddr_t</a> *&#160;</td>
          <td class="paramname"><em>deviceAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a>&#160;</td>
          <td class="paramname"><em>permissions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zdo_permissions_8h.html#a73b176949462ce05d14a5eb286c7fe55">ZDO_Permissions_t</a>&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update the permissions record which are associated with the device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceAddress</td><td>- the pointer the extended address of the device for which the record must be updated. If there is no record which contains the deviceAddress then new record will be created with default permissions which are updated by passed permissions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">permissions</td><td>- permissions which are associated with the given device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mask</td><td>- actions mask for which the passed permissions must applied. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ZDO_SUCCESS_STATUS if the operation completed successfuly otherwise ZDO_TABLE_FULL_STATUS if the table doesn't have enough space ZDO_INVALID_PARAMETERS_STATUS if a parameter has an invalid value. For example, the permissions mask has a bit which doesn't associated with any suppoerted action. </dd></dl>

</div>
</div>
<a class="anchor" id="ae6387041514dc84aaf582635f554076a"></a><!-- doxytag: member="zdoPermissions.h::ZDO_DeletePermissions" ref="ae6387041514dc84aaf582635f554076a" args="(const ExtAddr_t *deviceAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zdo_common_8h.html#afceb1ef32c21b6fa29f4dc0f57c48075">ZDO_Status_t</a> ZDO_DeletePermissions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="mac_addr_8h.html#a5b2913b1523fd1ce0a399c4fb047cc8b">ExtAddr_t</a> *&#160;</td>
          <td class="paramname"><em>deviceAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find and remove permissions from the permissions table. </p>
<p>We suppose that deviceAddress is primary key for the permissions table and there is no duplicates in the table. That's why only one record will be removed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceAddress</td><td>- the pointer to the IEEE address of the device which permissions should be removed from the table,</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ZDO_SUCCESS_STATUS if a entry was removed from the table. ZDO_INVALID_PARAMETERS_STATUS - there is no entry which are matched to the passed arguments. </dd></dl>

</div>
</div>
<a class="anchor" id="a30f4397d14413e6f5d9e07f403fae48b"></a><!-- doxytag: member="zdoPermissions.h::ZDO_CheckPermissions" ref="a30f4397d14413e6f5d9e07f403fae48b" args="(ExtAddr_t deviceAddress, BcAction_t action)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zdo_common_8h.html#afceb1ef32c21b6fa29f4dc0f57c48075">ZDO_Status_t</a> ZDO_CheckPermissions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mac_addr_8h.html#a5b2913b1523fd1ce0a399c4fb047cc8b">ExtAddr_t</a>&#160;</td>
          <td class="paramname"><em>deviceAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sys_events_8h.html#a49dae244563b730c67f61c8508593f3e">BcAction_t</a>&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Is permitted the set of actions or not? </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceAddress</td><td>- the IEEE address of the device that performs the set of actions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">actions</td><td>- action mask which can have one or more actions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ZDO_SUCCESS_STATUS if the actions are permitted. ZDO_NOT_AUTHORIZED_STATUS - one or more actions are not permitted. </dd></dl>

</div>
</div>
</div>
<hr style="border-top:1px solid #C4CFE5; margin-top:20px"/>
</body>
</html>
