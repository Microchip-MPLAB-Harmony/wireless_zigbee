<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PIC32CX-BZ Zigbee API Reference: apsdeData.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PIC32CX-BZ Zigbee API Reference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">apsdeData.h</div>  </div>
</div>
<div class="contents">
<a href="apsde_data_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/**************************************************************************/</span>
<a name="l00019"></a>00019 <span class="preprocessor">#if !defined _APSDE_DATA_H</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#define _APSDE_DATA_H</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="comment">/******************************************************************************</span>
<a name="l00023"></a>00023 <span class="comment">                               Includes section</span>
<a name="l00024"></a>00024 <span class="comment"> ******************************************************************************/</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="aps_common_8h.html" title="Definitions of common APS layer&#39;s constants and types.">apsCommon.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="sys_endian_8h.html" title="Interface for endian-neutral code.">sysEndian.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="zdo_addr_resolving_8h.html" title="Interface for ZDO Address Resolving request routines.">zdoAddrResolving.h</a>&gt;</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="comment">/******************************************************************************</span>
<a name="l00030"></a>00030 <span class="comment">                                Types section</span>
<a name="l00031"></a>00031 <span class="comment"> ******************************************************************************/</span>
<a name="l00032"></a>00032 
<a name="l00042"></a><a class="code" href="struct_a_p_s___data_conf__t.html">00042</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00043"></a>00043 {
<a name="l00045"></a><a class="code" href="struct_a_p_s___data_conf__t.html#a48f9122abdd3a15e01ebde40c26f592e">00045</a>   <a class="code" href="aps_common_8h.html#a1b4ff3a412400f1920d4d56e771230c8" title="APS status values.">APS_Status_t</a> <a class="code" href="struct_a_p_s___data_conf__t.html#a48f9122abdd3a15e01ebde40c26f592e">status</a>;
<a name="l00048"></a><a class="code" href="struct_a_p_s___data_conf__t.html#a8b9ea3bd992a2b16568a8c47574b6666">00048</a>   uint32_t <a class="code" href="struct_a_p_s___data_conf__t.html#a8b9ea3bd992a2b16568a8c47574b6666">txTime</a>;
<a name="l00049"></a>00049 } <a class="code" href="struct_a_p_s___data_conf__t.html" title="The structure for reporting the result of APS_DataReq() function.">APS_DataConf_t</a>;
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 
<a name="l00073"></a>00073 BEGIN_PACK 
<a name="l00074"></a><a class="code" href="union_a_p_s___tx_options__t.html">00074</a> <span class="keyword">typedef</span> <span class="keyword">union </span>PACK
<a name="l00075"></a>00075 {
<a name="l00076"></a>00076   uint8_t field;
<a name="l00077"></a>00077   <span class="keyword">struct </span>PACK
<a name="l00078"></a>00078   {
<a name="l00079"></a>00079     uint8_t   securityEnabledTransmission :1;
<a name="l00080"></a>00080     uint8_t   useNwkKey                   :1;
<a name="l00081"></a>00081     uint8_t   acknowledgedTransmission    :1;
<a name="l00082"></a>00082     uint8_t   fragmentationPermitted      :1;
<a name="l00083"></a>00083     uint8_t   includeExtendedNonce        :1;
<a name="l00084"></a>00084     uint8_t   doNotDecrypt                :1;
<a name="l00085"></a>00085     uint8_t   indicateBroadcasts          :1;
<a name="l00086"></a>00086     uint8_t   noRouteDiscovery            :1;
<a name="l00087"></a>00087   };
<a name="l00088"></a>00088 } <a class="code" href="union_a_p_s___tx_options__t.html" title="Describes additional options for data transmission.">APS_TxOptions_t</a>;
<a name="l00089"></a>00089 END_PACK
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 
<a name="l00101"></a><a class="code" href="struct_a_p_s___data_req__t.html">00101</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00102"></a>00102 {
<a name="l00104"></a>00104   <span class="keyword">struct</span>
<a name="l00105"></a>00105   {
<a name="l00106"></a>00106     <span class="keywordtype">void</span> *next; 
<a name="l00107"></a>00107 <span class="preprocessor">#ifdef _ZAPPSI_</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span>    <span class="comment">/* to be compatible with MAC service. */</span>
<a name="l00109"></a>00109     uint8_t requestId;
<a name="l00110"></a>00110     <span class="comment">/* Sequence number to identify request-response pair. */</span>
<a name="l00111"></a>00111     uint8_t sequenceNumber;
<a name="l00112"></a>00112     <span class="keyword">union</span>
<a name="l00113"></a>00113     {
<a name="l00114"></a>00114       <span class="comment">/* Callback wrapper routine pointer */</span>
<a name="l00115"></a>00115       void (*callback)(<span class="keywordtype">void</span>*);
<a name="l00116"></a>00116       <span class="comment">/* Processing routine pointer to call after required memory will become free */</span>
<a name="l00117"></a>00117       void (*process)(<span class="keywordtype">void</span>*);
<a name="l00118"></a>00118     } zsi;
<a name="l00119"></a>00119 <span class="preprocessor">#endif </span><span class="comment">/* # _ZAPPSI_ */</span>
<a name="l00120"></a>00120     <a class="code" href="struct___z_d_o___resolve_addr_req__t.html" title="Describes the parameters of the ZDO_ResolveAddrReq() function.">ZDO_ResolveAddrReq_t</a> resolveAddrReq; 
<a name="l00121"></a>00121   } service;
<a name="l00132"></a><a class="code" href="struct_a_p_s___data_req__t.html#acf9d887c5027cc63f2328661bfe5f532">00132</a>   <a class="code" href="aps_common_8h.html#a0bc5b23d1c85adcef057f8c04dfc5365" title="APS addressing modes.">APS_AddrMode_t</a> <a class="code" href="struct_a_p_s___data_req__t.html#acf9d887c5027cc63f2328661bfe5f532">dstAddrMode</a>;
<a name="l00137"></a><a class="code" href="struct_a_p_s___data_req__t.html#ad777a242d9d90e4c9eed819a8ba0c7c1">00137</a>   <a class="code" href="union_a_p_s___address__t.html" title="Common APS address type.">APS_Address_t</a> <a class="code" href="struct_a_p_s___data_req__t.html#ad777a242d9d90e4c9eed819a8ba0c7c1">dstAddress</a>;
<a name="l00142"></a><a class="code" href="struct_a_p_s___data_req__t.html#a735d3b4ba36dc998fa64f77bb21c3949">00142</a>   <a class="code" href="app_framework_8h.html#a2b4bc3df040a6181a3665c8e5ab24142" title="The type for holding endpoint ID.">Endpoint_t</a> <a class="code" href="struct_a_p_s___data_req__t.html#a735d3b4ba36dc998fa64f77bb21c3949">dstEndpoint</a>;
<a name="l00145"></a><a class="code" href="struct_a_p_s___data_req__t.html#a78008f477ee82a519794580047eafa31">00145</a>   <a class="code" href="app_framework_8h.html#a6830f662c9ba99181b8f8ac6f6eda2c0" title="The type for holding profile ID.">ProfileId_t</a> <a class="code" href="struct_a_p_s___data_req__t.html#a78008f477ee82a519794580047eafa31">profileId</a>;
<a name="l00148"></a><a class="code" href="struct_a_p_s___data_req__t.html#a48256007954e7a4e9b85ef0c166e9a93">00148</a>   <a class="code" href="app_framework_8h.html#a6de6a020fadabae5228d009b790063b3" title="The type for holding cluster ID.">ClusterId_t</a> <a class="code" href="struct_a_p_s___data_req__t.html#a48256007954e7a4e9b85ef0c166e9a93">clusterId</a>;
<a name="l00151"></a><a class="code" href="struct_a_p_s___data_req__t.html#ac816e4593f69008682cf3fa697aef65b">00151</a>   <a class="code" href="app_framework_8h.html#a2b4bc3df040a6181a3665c8e5ab24142" title="The type for holding endpoint ID.">Endpoint_t</a> <a class="code" href="struct_a_p_s___data_req__t.html#ac816e4593f69008682cf3fa697aef65b">srcEndpoint</a>;
<a name="l00157"></a><a class="code" href="struct_a_p_s___data_req__t.html#ac3c1cc5c8134f4fe663aeefc58d98f68">00157</a>   uint16_t <a class="code" href="struct_a_p_s___data_req__t.html#ac3c1cc5c8134f4fe663aeefc58d98f68">asduLength</a>;
<a name="l00159"></a><a class="code" href="struct_a_p_s___data_req__t.html#a196dc99b4a0bfea6ca3ad9871ff05c64">00159</a>   uint8_t *<a class="code" href="struct_a_p_s___data_req__t.html#a196dc99b4a0bfea6ca3ad9871ff05c64">asdu</a>;
<a name="l00163"></a><a class="code" href="struct_a_p_s___data_req__t.html#a329f813de89d84c93887e0a42959d02f">00163</a>   <a class="code" href="union_a_p_s___tx_options__t.html" title="Describes additional options for data transmission.">APS_TxOptions_t</a> <a class="code" href="struct_a_p_s___data_req__t.html#a329f813de89d84c93887e0a42959d02f">txOptions</a>;
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 <span class="preprocessor">#if defined _GREENPOWER_SUPPORT_</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span>  <span class="comment">/*  Alias usage by  for the current frame */</span>
<a name="l00167"></a>00167   <span class="keywordtype">bool</span> useAlias;
<a name="l00168"></a>00168   <span class="comment">/*  The source address to be used for this NSDU. If the UseAlias parameter </span>
<a name="l00169"></a>00169 <span class="comment">         has a value of FALSE,  the AliasSrcAddr parameter is ignored.*/</span>
<a name="l00170"></a>00170   <a class="code" href="mac_addr_8h.html#a4c45604b4a2170c8689cda4b3f650646" title="Short address type declaration.">ShortAddr_t</a> aliasSrcAddr;
<a name="l00171"></a>00171   <span class="comment">/*  The sequence number to be used for this NSDU. If the UseAlias parameter</span>
<a name="l00172"></a>00172 <span class="comment">         has a value of FALSE, the AliasSeqNumb parameter is ignored.*/</span>
<a name="l00173"></a>00173   uint8_t aliasSeqNumber;
<a name="l00174"></a>00174 <span class="preprocessor">#endif </span><span class="comment">/*_GREENPOWER_SUPPORT_*/</span>
<a name="l00175"></a>00175 
<a name="l00178"></a><a class="code" href="struct_a_p_s___data_req__t.html#afb9d6e8ddb106b90557107a92d1408ca">00178</a>   uint8_t <a class="code" href="struct_a_p_s___data_req__t.html#afb9d6e8ddb106b90557107a92d1408ca">radius</a>;
<a name="l00181"></a><a class="code" href="struct_a_p_s___data_req__t.html#a008411aa3c3ab38f4646c976b7163f3b">00181</a>   void (*APS_DataConf)(<a class="code" href="struct_a_p_s___data_conf__t.html" title="The structure for reporting the result of APS_DataReq() function.">APS_DataConf_t</a> *conf);
<a name="l00183"></a><a class="code" href="struct_a_p_s___data_req__t.html#a1fdb6b2eb93993920802c1e6309c17f6">00183</a>   <a class="code" href="struct_a_p_s___data_conf__t.html" title="The structure for reporting the result of APS_DataReq() function.">APS_DataConf_t</a> <a class="code" href="struct_a_p_s___data_req__t.html#a1fdb6b2eb93993920802c1e6309c17f6">confirm</a>;
<a name="l00184"></a>00184 } <a class="code" href="struct_a_p_s___data_req__t.html" title="The structure for request parameters of APS_DataReq() function.">APS_DataReq_t</a>;
<a name="l00185"></a>00185 
<a name="l00186"></a>00186 
<a name="l00196"></a><a class="code" href="struct_a_p_s___data_ind__t.html">00196</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00197"></a>00197 {
<a name="l00199"></a>00199   <span class="keyword">struct</span>
<a name="l00200"></a>00200   {
<a name="l00201"></a>00201     <span class="keywordtype">void</span> *next; 
<a name="l00202"></a>00202 <span class="preprocessor">#ifdef _ZAPPSI_</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span>    <span class="comment">/* to be compatible with MAC service. */</span>
<a name="l00204"></a>00204     uint8_t requestId;
<a name="l00205"></a>00205     <span class="comment">/* Sequence number to identify request-response pair. */</span>
<a name="l00206"></a>00206     uint8_t sequenceNumber;
<a name="l00207"></a>00207     <span class="keyword">union</span>
<a name="l00208"></a>00208     {
<a name="l00209"></a>00209       <span class="comment">/* Callback wrapper routine pointer */</span>
<a name="l00210"></a>00210       void (*callback)(<span class="keywordtype">void</span>*);
<a name="l00211"></a>00211       <span class="comment">/* Processing routine pointer to call after required memory will become free */</span>
<a name="l00212"></a>00212       void (*process)(<span class="keywordtype">void</span>*);
<a name="l00213"></a>00213     } zsi;
<a name="l00214"></a>00214 <span class="preprocessor">#endif </span><span class="comment">/* # _ZAPPSI_ */</span>
<a name="l00215"></a>00215   } service;
<a name="l00227"></a><a class="code" href="struct_a_p_s___data_ind__t.html#a31726bced7dddc0d0b6857b63633d2cc">00227</a>   <a class="code" href="aps_common_8h.html#a0bc5b23d1c85adcef057f8c04dfc5365" title="APS addressing modes.">APS_AddrMode_t</a> <a class="code" href="struct_a_p_s___data_ind__t.html#a31726bced7dddc0d0b6857b63633d2cc">dstAddrMode</a>;
<a name="l00230"></a><a class="code" href="struct_a_p_s___data_ind__t.html#a29853b836a33557018a57336051de9a5">00230</a>   <a class="code" href="union_a_p_s___address__t.html" title="Common APS address type.">APS_Address_t</a> <a class="code" href="struct_a_p_s___data_ind__t.html#a29853b836a33557018a57336051de9a5">dstAddress</a>;
<a name="l00232"></a><a class="code" href="struct_a_p_s___data_ind__t.html#acc698ce6c1cf30bea9098498b88617b7">00232</a>   <a class="code" href="app_framework_8h.html#a2b4bc3df040a6181a3665c8e5ab24142" title="The type for holding endpoint ID.">Endpoint_t</a> <a class="code" href="struct_a_p_s___data_ind__t.html#acc698ce6c1cf30bea9098498b88617b7">dstEndpoint</a>;
<a name="l00239"></a><a class="code" href="struct_a_p_s___data_ind__t.html#a23ef6a4d13c78eca37f857370113e61c">00239</a>   <a class="code" href="aps_common_8h.html#a0bc5b23d1c85adcef057f8c04dfc5365" title="APS addressing modes.">APS_AddrMode_t</a> <a class="code" href="struct_a_p_s___data_ind__t.html#a23ef6a4d13c78eca37f857370113e61c">srcAddrMode</a>;
<a name="l00243"></a><a class="code" href="struct_a_p_s___data_ind__t.html#afb50e47c8b8059135c656c75baeab539">00243</a>   <a class="code" href="union_a_p_s___address__t.html" title="Common APS address type.">APS_Address_t</a> <a class="code" href="struct_a_p_s___data_ind__t.html#afb50e47c8b8059135c656c75baeab539">srcAddress</a>;
<a name="l00246"></a><a class="code" href="struct_a_p_s___data_ind__t.html#ad48a7708747baaffface178e4dc562b5">00246</a>   <a class="code" href="mac_addr_8h.html#a4c45604b4a2170c8689cda4b3f650646" title="Short address type declaration.">ShortAddr_t</a> <a class="code" href="struct_a_p_s___data_ind__t.html#ad48a7708747baaffface178e4dc562b5">prevHopAddr</a>;
<a name="l00249"></a><a class="code" href="struct_a_p_s___data_ind__t.html#a0ae5c3d3951fce7f24ecc6148bf9aca8">00249</a>   <a class="code" href="app_framework_8h.html#a2b4bc3df040a6181a3665c8e5ab24142" title="The type for holding endpoint ID.">Endpoint_t</a> <a class="code" href="struct_a_p_s___data_ind__t.html#a0ae5c3d3951fce7f24ecc6148bf9aca8">srcEndpoint</a>;
<a name="l00252"></a><a class="code" href="struct_a_p_s___data_ind__t.html#a6546de74932e43f9da9d057294e331b7">00252</a>   <a class="code" href="app_framework_8h.html#a6830f662c9ba99181b8f8ac6f6eda2c0" title="The type for holding profile ID.">ProfileId_t</a> <a class="code" href="struct_a_p_s___data_ind__t.html#a6546de74932e43f9da9d057294e331b7">profileId</a>;
<a name="l00254"></a><a class="code" href="struct_a_p_s___data_ind__t.html#a9fa5bf20bb19a53c2cf90d2421490cb1">00254</a>   <a class="code" href="app_framework_8h.html#a6de6a020fadabae5228d009b790063b3" title="The type for holding cluster ID.">ClusterId_t</a> <a class="code" href="struct_a_p_s___data_ind__t.html#a9fa5bf20bb19a53c2cf90d2421490cb1">clusterId</a>;
<a name="l00256"></a><a class="code" href="struct_a_p_s___data_ind__t.html#a37a7f83e062e8afdeb1526f10ce8d4b9">00256</a>   uint16_t <a class="code" href="struct_a_p_s___data_ind__t.html#a37a7f83e062e8afdeb1526f10ce8d4b9">asduLength</a>;
<a name="l00258"></a><a class="code" href="struct_a_p_s___data_ind__t.html#a561452fedcbeede21d1de1fe08297f76">00258</a>   uint8_t *<a class="code" href="struct_a_p_s___data_ind__t.html#a561452fedcbeede21d1de1fe08297f76">asdu</a>;
<a name="l00260"></a><a class="code" href="struct_a_p_s___data_ind__t.html#a73a5932632dbc5411491d00abcda79b5">00260</a>   <a class="code" href="aps_common_8h.html#a1b4ff3a412400f1920d4d56e771230c8" title="APS status values.">APS_Status_t</a> <a class="code" href="struct_a_p_s___data_ind__t.html#a73a5932632dbc5411491d00abcda79b5">status</a>;
<a name="l00271"></a><a class="code" href="struct_a_p_s___data_ind__t.html#a2eedf020adb6370a644260877629a83f">00271</a>   <a class="code" href="aps_common_8h.html#a1b4ff3a412400f1920d4d56e771230c8" title="APS status values.">APS_Status_t</a> <a class="code" href="struct_a_p_s___data_ind__t.html#a2eedf020adb6370a644260877629a83f">securityStatus</a>;
<a name="l00274"></a><a class="code" href="struct_a_p_s___data_ind__t.html#ac3c5fe7bc885638752014c0503849920">00274</a>   <span class="keywordtype">bool</span> <a class="code" href="struct_a_p_s___data_ind__t.html#ac3c5fe7bc885638752014c0503849920">nwkSecurityStatus</a>;
<a name="l00276"></a><a class="code" href="struct_a_p_s___data_ind__t.html#af797a691c91cb4d486462308addcb2ec">00276</a>   uint8_t <a class="code" href="struct_a_p_s___data_ind__t.html#af797a691c91cb4d486462308addcb2ec">linkQuality</a>;
<a name="l00279"></a><a class="code" href="struct_a_p_s___data_ind__t.html#a39b9918a849104432f52c69c6c329e81">00279</a>   uint32_t <a class="code" href="struct_a_p_s___data_ind__t.html#a39b9918a849104432f52c69c6c329e81">rxTime</a>;
<a name="l00280"></a>00280   int8_t rssi;
<a name="l00281"></a>00281 } <a class="code" href="struct_a_p_s___data_ind__t.html" title="The structure for indication of data reception.">APS_DataInd_t</a>;
<a name="l00282"></a>00282 
<a name="l00283"></a>00283 <span class="comment">/******************************************************************************</span>
<a name="l00284"></a>00284 <span class="comment">                              Prototypes section</span>
<a name="l00285"></a>00285 <span class="comment"> ******************************************************************************/</span>
<a name="l00286"></a>00286 <span class="comment">/**************************************************************************/</span>
<a name="l00391"></a>00391 <span class="keywordtype">void</span> <a class="code" href="group__aps__data.html#ga2a584bc786c377e3e69b0896b0d0a55f" title="Sends data to a node in the network.">APS_DataReq</a>(<a class="code" href="struct_a_p_s___data_req__t.html" title="The structure for request parameters of APS_DataReq() function.">APS_DataReq_t</a> *<span class="keyword">const</span> req);
<a name="l00392"></a>00392 
<a name="l00393"></a>00393 <span class="comment">/**************************************************************************/</span>
<a name="l00399"></a>00399 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="apsde_data_8h.html#a0b30260ea3f900a7bec569bf5dc26ce4" title="ZDO APSDE-DATA.indication handler.">APS_ZdoDataInd</a>(<a class="code" href="struct_a_p_s___data_ind__t.html" title="The structure for indication of data reception.">APS_DataInd_t</a> *ind);
<a name="l00400"></a>00400 
<a name="l00401"></a>00401 <span class="comment">/**************************************************************************/</span>
<a name="l00411"></a>00411 <span class="keywordtype">void</span> <a class="code" href="group__aps__data.html#gabf17ee393a76dd7e3e0ed99956e28c61" title="Recalculates transmission timeouts and duplicate rejection time. Reads maximum frame transmission tim...">APS_CalculateTimes</a>(<span class="keywordtype">void</span>);
<a name="l00412"></a>00412 
<a name="l00413"></a>00413 <span class="preprocessor">#endif </span><span class="comment">/* _APSDE_DATA_H */</span>
<a name="l00414"></a>00414 
</pre></div></div>
</div>
<hr style="border-top:1px solid #C4CFE5; margin-top:20px"/>
</body>
</html>
