<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PIC32CX-BZ Zigbee API Reference: Security</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PIC32CX-BZ Zigbee API Reference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Security</div>  </div>
<div class="ingroups"><a class="el" href="group__zcl.html">ZCL functions</a></div></div>
<div class="contents">

<p>ZCL functions used to start profile-specific security, set security keys, etc.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga990aff3e2467878a04df3a6df84128f7"></a><!-- doxytag: member="zcl_sec::ZCL_ResetSecurity" ref="ga990aff3e2467878a04df3a6df84128f7" args="(void)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zcl__sec.html#ga990aff3e2467878a04df3a6df84128f7">ZCL_ResetSecurity</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the security component of ZCL. Resets the Key Establishment cluster if Certicom security is used. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zcl__sec.html#ga43e10c105876c3abb3487e12214e491c">ZCL_Set</a> (<a class="el" href="struct_z_c_l___set__t.html">ZCL_Set_t</a> *req)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets security parameters in ZCL.  <a href="#ga43e10c105876c3abb3487e12214e491c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zcl__sec.html#ga33a186e34b0a8476bfc7e667b2004fe6">ZCL_Get</a> (<a class="el" href="struct_z_c_l___get__t.html">ZCL_Get_t</a> *req)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets security parameters from ZCL.  <a href="#ga33a186e34b0a8476bfc7e667b2004fe6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zcl__sec.html#ga2c29c1b0a4d490796565a38aad83ebe1">ZCL_StartSecurityReq</a> (<a class="el" href="struct_z_c_l___start_security_req__t.html">ZCL_StartSecurityReq_t</a> *req)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the KE cluster, discovers KE devices and performs key establishment.  <a href="#ga2c29c1b0a4d490796565a38aad83ebe1"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>ZCL functions used to start profile-specific security, set security keys, etc. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga43e10c105876c3abb3487e12214e491c"></a><!-- doxytag: member="zclSecurityManager.h::ZCL_Set" ref="ga43e10c105876c3abb3487e12214e491c" args="(ZCL_Set_t *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ZCL_Set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_z_c_l___set__t.html">ZCL_Set_t</a> *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets security parameters in ZCL. </p>
<p>The function is used in profile-based applications to set various security parameters including link keys, network key, and Key Establishment cluster's data. The type of security parameter set by the funciton depends on the value of the argument's <code>attr.id</code> field. Possible values are given by the ZCL_SecurityAttrId_t enumeration type.</p>
<p>The function is executed synchronously.</p>
<dl class="user"><dt><b>Response statuses:</b></dt><dd>Accessed via the argument's <a class="el" href="struct_z_c_l___set__t.html#a6f2b7ccc6ae01a57700f55835da46839" title="The status of setting a security attribute.">ZCL_Set_t::status</a> field<br/>
<br/>
 <a class="el" href="zcl_8h.html#ad5ed4e48a062501fc4f9a9378cffe0daa1f525bf63960effa3a2b01b20e744e94" title="Operation was successful.">ZCL_SUCCESS_STATUS</a> (0x00) - operation completed successfully <br/>
 <a class="el" href="zcl_8h.html#ad5ed4e48a062501fc4f9a9378cffe0daacdf14bb4f7c8b8ac3ae4a1b1db2f41dc" title="Invalid parameters have been provided.">ZCL_INVALID_ATTRIBUTE_VALUE_STATUS</a> (0x02) - the provided endpoint is invalid, or null certificate description is provided <br/>
 <a class="el" href="zcl_8h.html#ad5ed4e48a062501fc4f9a9378cffe0daa066fcc2bbb54b2556b028c043aa6b7e6" title="Permission table error.">ZCL_TC_PERMISSION_TABLE_ERROR_STATUS</a> (0x03) - adding the device to the TC permission table has failed <br/>
 <a class="el" href="zcl_8h.html#ad5ed4e48a062501fc4f9a9378cffe0daa18a0703576ba94df5013d604d509de66" title="APS has failed to set the provided link key.">ZCL_APS_LINK_KEY_ERROR_STATUS</a> (0x04) - setting the link key via APS has failed <br/>
 <a class="el" href="zcl_8h.html#ad5ed4e48a062501fc4f9a9378cffe0daabd4303f44e13816028d31af808685f63">ZCL_UNSUPPORTED_ATTRIBUTE_STATUS</a> (0x86) - an unsupported value has been set to the argument's <code>attr.id</code> field <br/>
 </dd></dl>

</div>
</div>
<a class="anchor" id="ga33a186e34b0a8476bfc7e667b2004fe6"></a><!-- doxytag: member="zclSecurityManager.h::ZCL_Get" ref="ga33a186e34b0a8476bfc7e667b2004fe6" args="(ZCL_Get_t *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ZCL_Get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_z_c_l___get__t.html">ZCL_Get_t</a> *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets security parameters from ZCL. </p>
<p>The function is used in profile-based applications to obtain various security parameters including link keys, network key, and Key Establishment cluster's data. The type of security parameter obtained by the funciton depends on the value of the argument's <code>attr.id</code> field. Possible values are given by the ZCL_SecurityAttrId_t enumeration type.</p>
<p>The function is executed synchronously.</p>
<dl class="user"><dt><b>Response statuses:</b></dt><dd>Accessed via the argument's <a class="el" href="struct_z_c_l___get__t.html#ae29335dada040f951300e86f82f85572" title="The status of getting a security attribute.">ZCL_Get_t::status</a> field<br/>
<br/>
 <a class="el" href="zcl_8h.html#ad5ed4e48a062501fc4f9a9378cffe0daa1f525bf63960effa3a2b01b20e744e94" title="Operation was successful.">ZCL_SUCCESS_STATUS</a> (0x00) - operation completed successfully <br/>
 <a class="el" href="zcl_8h.html#ad5ed4e48a062501fc4f9a9378cffe0daacdf14bb4f7c8b8ac3ae4a1b1db2f41dc" title="Invalid parameters have been provided.">ZCL_INVALID_ATTRIBUTE_VALUE_STATUS</a> (0x02) - the requested link key has not been found, the provided endpoint is invalid, or null certificate description is provided <br/>
 <a class="el" href="zcl_8h.html#ad5ed4e48a062501fc4f9a9378cffe0daabd4303f44e13816028d31af808685f63">ZCL_UNSUPPORTED_ATTRIBUTE_STATUS</a> (0x86) - an unsupported value has been set to the argument's <code>attr.id</code> field <br/>
 </dd></dl>

</div>
</div>
<a class="anchor" id="ga2c29c1b0a4d490796565a38aad83ebe1"></a><!-- doxytag: member="zclSecurityManager.h::ZCL_StartSecurityReq" ref="ga2c29c1b0a4d490796565a38aad83ebe1" args="(ZCL_StartSecurityReq_t *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ZCL_StartSecurityReq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_z_c_l___start_security_req__t.html">ZCL_StartSecurityReq_t</a> *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the KE cluster, discovers KE devices and performs key establishment. </p>
<p>The function should be called in applications supporting the Key Establishment (KE) cluster, to perform key establishment procedures. The behavior is different on the trust center and common devices.</p>
<p>On the trust center: </p>
<ul>
<li>If the <code>remoteAddress</code> field is set to 0, KE cluster will be initialized. Key establishment will not be performed with any device. </li>
<li>If <code>remoteAddress</code> is set to the extended address of a remote device the trust center will start key establishment with it.</li>
</ul>
<p>On a common device: </p>
<ul>
<li>If the <code>remoteAddress</code> field is set to 0 or to the extended address of the trust center, the key establishment with the trust center will start. </li>
<li>Otherwise, the request will eventually fail.</li>
</ul>
<p>If Certicom Security is not used, the success status is always reported.</p>
<dl class="user"><dt><b>Response statuses:</b></dt><dd>Accessed via the <a class="el" href="struct_z_c_l___start_security_conf__t.html#a89fc9db0b7119bf54a350184b4cebc77" title="The status of starting KE security.">ZCL_StartSecurityConf_t::status</a> field of the <a class="el" href="struct_z_c_l___start_security_req__t.html#af498657c095b240f689b8bab63444ce2" title="Confirmation callback. Can be set to NULL.">ZCL_StartSecurityReq_t::ZCL_StartSecurityConf</a> callback's argument. <br/>
 All possible status codes are wrapped in the <a class="el" href="zcl_security_manager_8h.html#a97849e2f0bd45309ed74b66b165e7e33" title="Enumerated status values used in by the security procedures in ZCL.">ZCL_SecurityStatus_t</a> enumeration. </dd></dl>

</div>
</div>
</div>
<hr style="border-top:1px solid #C4CFE5; margin-top:20px"/>
</body>
</html>
