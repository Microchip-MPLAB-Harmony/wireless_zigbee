<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PIC32CX-BZ Zigbee API Reference: USART controlling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PIC32CX-BZ Zigbee API Reference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">USART controlling</div>  </div>
<div class="ingroups"><a class="el" href="group__hal__api.html">HAL functions</a></div></div>
<div class="contents">

<p>Functions used to send and receive data over USART.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__usart.html#ga59024175c26d131adf800e19ac6285b7">HAL_OpenUsart</a> (<a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *descriptor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers usart's event handlers. Performs configuration of usart registers. Performs configuration of RTS, CTS and DTR pins.  <a href="#ga59024175c26d131adf800e19ac6285b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__usart.html#ga9677a5b9bda19ac7e396b18ce89ba67a">HAL_CloseUsart</a> (<a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *descriptor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the usart channel and pins, if hardware flow control was used.  <a href="#ga9677a5b9bda19ac7e396b18ce89ba67a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__usart.html#ga90edae96f61d2f25020794bbe8c1c024">HAL_WriteUsart</a> (<a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *descriptor, uint8_t *buffer, uint16_t length)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a number of bytes to usart channel. txCallback function will be used to notify when the transmission is finished. If hardware flow control is used for transmitting then RTS and DTR pins will be tested during transmission.  <a href="#ga90edae96f61d2f25020794bbe8c1c024"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__usart.html#ga8c9727e028dce14b40526dff8b841b4d">HAL_ReadUsart</a> (<a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *descriptor, uint8_t *buffer, uint16_t length)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a number of bytes from usart and places them to the buffer.  <a href="#ga8c9727e028dce14b40526dff8b841b4d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__usart.html#ga8becd54fd65af11b2aad4509cea46e37">HAL_OnUsartCts</a> (<a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *descriptor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Forbids the host to transmit data. Only USART_CHANNEL_1 can be used for hardware flow control for avr.  <a href="#ga8becd54fd65af11b2aad4509cea46e37"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__usart.html#ga7906ead6c8008568357427d56fb52f77">HAL_OffUsartCts</a> (<a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *descriptor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows the host to transmit data. Only USART_CHANNEL_1 can be used for hardware flow control for avr.  <a href="#ga7906ead6c8008568357427d56fb52f77"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__usart.html#gafb2fc459966b1f270671e328e420de76">HAL_ReadUsartRts</a> (<a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *descriptor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads RTS pin state. Only USART_CHANNEL_1 can be used for hardware flow control for avr.  <a href="#gafb2fc459966b1f270671e328e420de76"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__usart.html#ga845c7db0e70b64ae703ea0b910c0ec60">HAL_ReadUsartDtr</a> (<a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *descriptor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads DTR pin state. Only USART_CHANNEL_1 can be used for hardware flow control for avr.  <a href="#ga845c7db0e70b64ae703ea0b910c0ec60"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__usart.html#ga2d770f76276c1086a98b14a1e4aa2e62">HAL_IsTxEmpty</a> (<a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *descriptor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the status of tx buffer.  <a href="#ga2d770f76276c1086a98b14a1e4aa2e62"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Functions used to send and receive data over USART. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga59024175c26d131adf800e19ac6285b7"></a><!-- doxytag: member="usart.h::HAL_OpenUsart" ref="ga59024175c26d131adf800e19ac6285b7" args="(HAL_UsartDescriptor_t *descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_OpenUsart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *&#160;</td>
          <td class="paramname"><em>descriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Registers usart's event handlers. Performs configuration of usart registers. Performs configuration of RTS, CTS and DTR pins. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor</td><td>- pointer to <a class="el" href="struct_h_a_l___usart_descriptor__t.html" title="Usart descriptor.">HAL_UsartDescriptor_t</a> structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns positive usart descriptor on success or -1 in cases: <br/>
<ul>
<li>bad usart channel; <br/>
</li>
<li>there are not enough resources; <br/>
 </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga9677a5b9bda19ac7e396b18ce89ba67a"></a><!-- doxytag: member="usart.h::HAL_CloseUsart" ref="ga9677a5b9bda19ac7e396b18ce89ba67a" args="(HAL_UsartDescriptor_t *descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_CloseUsart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *&#160;</td>
          <td class="paramname"><em>descriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Releases the usart channel and pins, if hardware flow control was used. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor</td><td>- pointer to <a class="el" href="struct_h_a_l___usart_descriptor__t.html" title="Usart descriptor.">HAL_UsartDescriptor_t</a> structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 - bad descriptor or channel is already closed; <br/>
 0 - success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga90edae96f61d2f25020794bbe8c1c024"></a><!-- doxytag: member="usart.h::HAL_WriteUsart" ref="ga90edae96f61d2f25020794bbe8c1c024" args="(HAL_UsartDescriptor_t *descriptor, uint8_t *buffer, uint16_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_WriteUsart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *&#160;</td>
          <td class="paramname"><em>descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes a number of bytes to usart channel. txCallback function will be used to notify when the transmission is finished. If hardware flow control is used for transmitting then RTS and DTR pins will be tested during transmission. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor</td><td>- pointer to <a class="el" href="struct_h_a_l___usart_descriptor__t.html" title="Usart descriptor.">HAL_UsartDescriptor_t</a> structure;</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>- pointer to the application data buffer;</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>- number of bytes to transfer;</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 - bad descriptor; <br/>
 Number of bytes placed to the buffer - success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8c9727e028dce14b40526dff8b841b4d"></a><!-- doxytag: member="usart.h::HAL_ReadUsart" ref="ga8c9727e028dce14b40526dff8b841b4d" args="(HAL_UsartDescriptor_t *descriptor, uint8_t *buffer, uint16_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_ReadUsart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *&#160;</td>
          <td class="paramname"><em>descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads a number of bytes from usart and places them to the buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor</td><td>- pointer to <a class="el" href="struct_h_a_l___usart_descriptor__t.html" title="Usart descriptor.">HAL_UsartDescriptor_t</a> structure;</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>- pointer to the application buffer;</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>- number of bytes to be placed to the buffer;</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 - bad descriptor, or bad number of bytes to read; <br/>
 Number of bytes placed to the buffer - success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8becd54fd65af11b2aad4509cea46e37"></a><!-- doxytag: member="usart.h::HAL_OnUsartCts" ref="ga8becd54fd65af11b2aad4509cea46e37" args="(HAL_UsartDescriptor_t *descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_OnUsartCts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *&#160;</td>
          <td class="paramname"><em>descriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Forbids the host to transmit data. Only USART_CHANNEL_1 can be used for hardware flow control for avr. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor</td><td>- pointer to <a class="el" href="struct_h_a_l___usart_descriptor__t.html" title="Usart descriptor.">HAL_UsartDescriptor_t</a> structure;</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 - bad descriptor, bad usart, or unsupported mode; <br/>
 0 - success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7906ead6c8008568357427d56fb52f77"></a><!-- doxytag: member="usart.h::HAL_OffUsartCts" ref="ga7906ead6c8008568357427d56fb52f77" args="(HAL_UsartDescriptor_t *descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_OffUsartCts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *&#160;</td>
          <td class="paramname"><em>descriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allows the host to transmit data. Only USART_CHANNEL_1 can be used for hardware flow control for avr. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor</td><td>- pointer to <a class="el" href="struct_h_a_l___usart_descriptor__t.html" title="Usart descriptor.">HAL_UsartDescriptor_t</a> structure;</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 - bad descriptor, bad usart, or unsupported mode; <br/>
 0 - success. </dd></dl>

</div>
</div>
<a class="anchor" id="gafb2fc459966b1f270671e328e420de76"></a><!-- doxytag: member="usart.h::HAL_ReadUsartRts" ref="gafb2fc459966b1f270671e328e420de76" args="(HAL_UsartDescriptor_t *descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_ReadUsartRts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *&#160;</td>
          <td class="paramname"><em>descriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads RTS pin state. Only USART_CHANNEL_1 can be used for hardware flow control for avr. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor</td><td>- pointer to <a class="el" href="struct_h_a_l___usart_descriptor__t.html" title="Usart descriptor.">HAL_UsartDescriptor_t</a> structure;</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 - bad descriptor, bad usart, or unsupported mode; <br/>
 0 - RTS is low level; <br/>
 1 - RTS is high level; </dd></dl>

</div>
</div>
<a class="anchor" id="ga845c7db0e70b64ae703ea0b910c0ec60"></a><!-- doxytag: member="usart.h::HAL_ReadUsartDtr" ref="ga845c7db0e70b64ae703ea0b910c0ec60" args="(HAL_UsartDescriptor_t *descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_ReadUsartDtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *&#160;</td>
          <td class="paramname"><em>descriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads DTR pin state. Only USART_CHANNEL_1 can be used for hardware flow control for avr. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor</td><td>- pointer to <a class="el" href="struct_h_a_l___usart_descriptor__t.html" title="Usart descriptor.">HAL_UsartDescriptor_t</a> structure;</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 - bad descriptor, bad usart, or unsupported mode; <br/>
 0 - DTR is low level; <br/>
 1 - DTR is high level; </dd></dl>

</div>
</div>
<a class="anchor" id="ga2d770f76276c1086a98b14a1e4aa2e62"></a><!-- doxytag: member="usart.h::HAL_IsTxEmpty" ref="ga2d770f76276c1086a98b14a1e4aa2e62" args="(HAL_UsartDescriptor_t *descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HAL_IsTxEmpty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_a_l___usart_descriptor__t.html">HAL_UsartDescriptor_t</a> *&#160;</td>
          <td class="paramname"><em>descriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks the status of tx buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor</td><td>- pointer to <a class="el" href="struct_h_a_l___usart_descriptor__t.html" title="Usart descriptor.">HAL_UsartDescriptor_t</a> structure;</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 - bad descriptor, no tx buffer; <br/>
 1 - tx buffer is empty; <br/>
 0 - tx buffer is not empty; </dd></dl>

</div>
</div>
</div>
<hr style="border-top:1px solid #C4CFE5; margin-top:20px"/>
</body>
</html>
