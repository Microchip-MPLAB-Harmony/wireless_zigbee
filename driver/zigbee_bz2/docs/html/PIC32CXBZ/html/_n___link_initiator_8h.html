<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PIC32CX-BZ Zigbee API Reference: N_LinkInitiator.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PIC32CX-BZ Zigbee API Reference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">N_LinkInitiator.h File Reference</div>  </div>
</div>
<div class="contents">

<p>Initiate touchlink actions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;N_Address.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="_n___inter_pan_8h_source.html">N_InterPan.h</a>&quot;</code><br/>
<code>#include &quot;N_Types.h&quot;</code><br/>
</div>
<p><a href="_n___link_initiator_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_n___link_initiator___callback__t.html">N_LinkInitiator_Callback_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_n___link_initiator___endpoint_info__t.html">N_LinkInitiator_EndpointInfo_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac58c3005c10c92fd90252bf1ef93d903"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_ScanType_Touchlink" ref="ac58c3005c10c92fd90252bf1ef93d903" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>N_LinkInitiator_ScanType_Touchlink</b>&#160;&#160;&#160;0x02u</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adbc2cb1abe8d475c7cd34e459584fd83"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_ScanType_OwnPanOnly" ref="adbc2cb1abe8d475c7cd34e459584fd83" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>N_LinkInitiator_ScanType_OwnPanOnly</b>&#160;&#160;&#160;0x04u</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0fd78895e199ee3a561b4dcbf83b97a1"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_ScanType_IncludeSecondaryChannels" ref="a0fd78895e199ee3a561b4dcbf83b97a1" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>N_LinkInitiator_ScanType_IncludeSecondaryChannels</b>&#160;&#160;&#160;0x08u</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4eec68793d80f8259903290563b1bf42"></a><!-- doxytag: member="N_LinkInitiator.h::N_LINK_IDENTIFY_TIME_DEFAULT" ref="a4eec68793d80f8259903290563b1bf42" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>N_LINK_IDENTIFY_TIME_DEFAULT</b>&#160;&#160;&#160;0xFFFFu</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af071627522cce6f0e501e5d6cd1adc11"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_Status_t" ref="af071627522cce6f0e501e5d6cd1adc11" args="" -->
typedef enum <br class="typebreak"/>
<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>N_LinkInitiator_Status_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9517c388be1697f13a5db8b8b8406b3e"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_Callback_t" ref="a9517c388be1697f13a5db8b8b8406b3e" args="" -->
typedef struct <br class="typebreak"/>
<a class="el" href="struct_n___link_initiator___callback__t.html">N_LinkInitiator_Callback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>N_LinkInitiator_Callback_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#a4c998a316ba0ee50af6ad9f6707e3b2d">N_LinkInitiator_ScanDone_t</a> )(<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a> status, uint8_t numDevicesFound)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#a24b7bd9351b2921a28dea5cc5b7e80c0">N_LinkInitiator_DeviceInfoRequestDone_t</a> )(<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a> status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#a05dd3e8f1f54609d1e74782911545933">N_LinkInitiator_JoinDeviceDone_t</a> )(<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a> status, uint16_t targetNetworkAddress)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#ad418cca4484cff022994c7ade252c8c7">N_LinkInitiator_IdentifyRequestDone_t</a> )(<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a> status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#abaa8336dbdd40442bea142ddf66e6ce4">N_LinkInitiator_ResetDeviceToFactoryNewDone_t</a> )(<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a> status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2399e7f6dd2417dccfe1a3861eef8553"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_ScanType_t" ref="a2399e7f6dd2417dccfe1a3861eef8553" args="" -->
typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>N_LinkInitiator_ScanType_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a9984776f37300b633235f3c89a6829"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_EndpointInfo_t" ref="a8a9984776f37300b633235f3c89a6829" args="" -->
typedef struct <br class="typebreak"/>
<a class="el" href="struct_n___link_initiator___endpoint_info__t.html">N_LinkInitiator_EndpointInfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>N_LinkInitiator_EndpointInfo_t</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23f5c63f2d0d02425d5a06875cf997d2"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_Device_t" ref="a23f5c63f2d0d02425d5a06875cf997d2" args="" -->
typedef struct <br class="typebreak"/>
<a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>N_LinkInitiator_Device_t</b></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a> { <br/>
&#160;&#160;<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04a33b51176c34dfcb162cf9669ace5cada">N_LinkInitiator_Status_Ok</a>, 
<br/>
&#160;&#160;<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04afb38605cf78946540e99216e4d28c910">N_LinkInitiator_Status_Failure</a>, 
<br/>
&#160;&#160;<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04adbfdd3462f6fd356789b7f94c5975eae">N_LinkInitiator_Status_Stopped</a>, 
<br/>
&#160;&#160;<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04aacccf5ea2345a1da62c84714b5de57fe">N_LinkInitiator_Status_Timeout</a>, 
<br/>
&#160;&#160;<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04a02b7e08719411de7f2b1c854536b2e2d">N_LinkInitiator_Status_CommunicationNotEstablished</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#a61e1f74d13e0f0679ef367fa94a82ee0">N_LinkInitiator_Subscribe</a> (const <a class="el" href="struct_n___link_initiator___callback__t.html">N_LinkInitiator_Callback_t</a> *pCb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#a6fdf9630ec98c191652c7bc70ac1e7fc">N_LinkInitiator_Scan</a> (N_LinkInitiator_ScanType_t scanType, <a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a> dev[], uint8_t devArraySize, <a class="el" href="_n___link_initiator_8h.html#a4c998a316ba0ee50af6ad9f6707e3b2d">N_LinkInitiator_ScanDone_t</a> pfDoneCallback)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#aa7b369c3aa4155182dd16f7781895cd0">N_LinkInitiator_StopScan</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#a09895cc52efae4ec88fbda58593fec16">N_LinkInitiator_IdentifyStartRequest</a> (<a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a> *pDev, uint16_t timeoutInSec, <a class="el" href="_n___link_initiator_8h.html#ad418cca4484cff022994c7ade252c8c7">N_LinkInitiator_IdentifyRequestDone_t</a> pfDoneCallback)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#a3a790950ec459a57ea7d22e7343b09f6">N_LinkInitiator_IdentifyStopRequest</a> (<a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a> *pDev, <a class="el" href="_n___link_initiator_8h.html#ad418cca4484cff022994c7ade252c8c7">N_LinkInitiator_IdentifyRequestDone_t</a> pfDoneCallback)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#af3e12e69b729196078c8b6c6239e17b7">N_LinkInitiator_DeviceInfoRequest</a> (<a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a> *pDev, <a class="el" href="struct_n___inter_pan___device_info__t.html">N_InterPan_DeviceInfo_t</a> epInfo[], uint8_t epInfoArraySize, <a class="el" href="_n___link_initiator_8h.html#a24b7bd9351b2921a28dea5cc5b7e80c0">N_LinkInitiator_DeviceInfoRequestDone_t</a> pfDoneCallback)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#a856507deb53edcc39b2e26873d6bf968">N_LinkInitiator_JoinDevice</a> (<a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a> *pTarget, bool skipCommunicationCheck, <a class="el" href="_n___link_initiator_8h.html#a05dd3e8f1f54609d1e74782911545933">N_LinkInitiator_JoinDeviceDone_t</a> pfDoneCallback)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n___link_initiator_8h.html#a65d806a02954a7858494530632924d71">N_LinkInitiator_ResetDeviceToFactoryNew</a> (<a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a> *pDev, <a class="el" href="_n___link_initiator_8h.html#abaa8336dbdd40442bea142ddf66e6ce4">N_LinkInitiator_ResetDeviceToFactoryNewDone_t</a> pfDoneCallback)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Initiate touchlink actions. </p>
<p>A linking sequence consists roughly of the following steps: </p>
<div class="image">
<img src="N_LinkInitiator_LinkingSequence.png" alt="N_LinkInitiator_LinkingSequence.png"/>
</div>
<p>The N_LinkInitiator component implements the software interface to implement the initiator-side of this.</p>
<p>The Scanning step is initiated using the <a class="el" href="_n___link_initiator_8h.html#a6fdf9630ec98c191652c7bc70ac1e7fc">N_LinkInitiator_Scan()</a> function. At the end of the Scanning step, the application typically selects one of the found devices to continue with. It may then first further interrogate this device by calling <a class="el" href="_n___link_initiator_8h.html#af3e12e69b729196078c8b6c6239e17b7">N_LinkInitiator_DeviceInfoRequest()</a>.</p>
<p>The Identify step (to have the selected device identify itself for the user) is optional but it is typically only used for touchlinking.</p>
<p>The Add device step causes an action to be performed with the selected device. The following actions are currently supported:</p>
<ul>
<li><a class="el" href="_n___link_initiator_8h.html#a856507deb53edcc39b2e26873d6bf968">N_LinkInitiator_JoinDevice()</a> (causes the selected target device to be joined to the network of the initiator). This may cause any of the following InterPan commands to be sent, depending on the situation:<ul>
<li>StartNetworkRequest</li>
<li>RouterJoinNetworkRequest</li>
<li>EndDeviceJoinNetworkRequest</li>
<li>NetworkUpdateRequest</li>
</ul>
</li>
<li><a class="el" href="_n___link_initiator_8h.html#a65d806a02954a7858494530632924d71">N_LinkInitiator_ResetDeviceToFactoryNew()</a> to reset a device to factory defaults</li>
</ul>
<h2><a class="anchor" id="Callbacks"></a>
Callbacks</h2>
<p>Its interface consists of asynchronous functions that each have a Done callback function pointer parameter.</p>
<p><b>Note</b>: No function is allowed to be called while any other function is busy. The only exception is <a class="el" href="_n___link_initiator_8h.html#aa7b369c3aa4155182dd16f7781895cd0">N_LinkInitiator_StopScan()</a>, which is allowed to be called while a Scan is busy.</p>
<h2><a class="anchor" id="IIL"></a>
Being Initiator and Target simultaneously</h2>
<dl class="user"><dt><b></b></dt><dd>When starting a linking action from 2 devices at the same time (e.g. linking two ZLL remotes), one of the devices should become target (to be decided by the application) and the other one should continue being an initiator. So when a device that is both target and initiator at the same time receives a scan request while it is scanning, the application can decide to abort scanning (and remain target) so it can be linked.</dd></dl>
<p>Only during the Scanning step, a device may be Target and Initiator at the same time. During the other steps, the device must give up being a Target.</p>
<h2><a class="anchor" id="Establishing"></a>
Communications</h2>
<dl class="user"><dt><b></b></dt><dd>To ensure that the application can reliably communicate to the just-linked device, N_LinkInitiator unicasts a (dummy) message to the linked target, requesting a response. This is retried a few times. If no response is received even after the retries, the linking is still considered to be partly successfull, but it returns N_LinkInitiator_Status_CommunicationNotEstablished.</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Microchip Corporation: <a href="http://www.microchip.com">http://www.microchip.com</a> <br/>
 Support email: <a href="mailto:support@microchip.com">support@microchip.com</a></dd></dl>
<p>Copyright (c) 2018, Microchip Corporation. All rights reserved. Licensed under Microchip's Limited License Agreement. </p>

<p>Definition in file <a class="el" href="_n___link_initiator_8h_source.html">N_LinkInitiator.h</a>.</p>
</div><hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a4c998a316ba0ee50af6ad9f6707e3b2d"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_ScanDone_t" ref="a4c998a316ba0ee50af6ad9f6707e3b2d" args=")(N_LinkInitiator_Status_t status, uint8_t numDevicesFound)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="_n___link_initiator_8h.html#a4c998a316ba0ee50af6ad9f6707e3b2d">N_LinkInitiator_ScanDone_t</a>)(<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a> status, uint8_t numDevicesFound)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Completion callback for N_LinkInitiator_Scan and N_LinkInitiator_ScanDirect. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The result of the call </td></tr>
    <tr><td class="paramname">numDevicesFound</td><td>Number of devices found during the scan </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_n___link_initiator_8h_source.html#l00142">142</a> of file <a class="el" href="_n___link_initiator_8h_source.html">N_LinkInitiator.h</a>.</p>

</div>
</div>
<a class="anchor" id="a24b7bd9351b2921a28dea5cc5b7e80c0"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_DeviceInfoRequestDone_t" ref="a24b7bd9351b2921a28dea5cc5b7e80c0" args=")(N_LinkInitiator_Status_t status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="_n___link_initiator_8h.html#a24b7bd9351b2921a28dea5cc5b7e80c0">N_LinkInitiator_DeviceInfoRequestDone_t</a>)(<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a> status)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Completion callback for N_LinkInitiator_DeviceInfoRequest. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The result of the call </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_n___link_initiator_8h_source.html#l00147">147</a> of file <a class="el" href="_n___link_initiator_8h_source.html">N_LinkInitiator.h</a>.</p>

</div>
</div>
<a class="anchor" id="a05dd3e8f1f54609d1e74782911545933"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_JoinDeviceDone_t" ref="a05dd3e8f1f54609d1e74782911545933" args=")(N_LinkInitiator_Status_t status, uint16_t targetNetworkAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="_n___link_initiator_8h.html#a05dd3e8f1f54609d1e74782911545933">N_LinkInitiator_JoinDeviceDone_t</a>)(<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a> status, uint16_t targetNetworkAddress)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Completion callback for N_LinkInitiator_JoinDevice. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The result of the call </td></tr>
    <tr><td class="paramname">targetNetworkAddress</td><td>The network address of the target that was joined </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_n___link_initiator_8h_source.html#l00153">153</a> of file <a class="el" href="_n___link_initiator_8h_source.html">N_LinkInitiator.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad418cca4484cff022994c7ade252c8c7"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_IdentifyRequestDone_t" ref="ad418cca4484cff022994c7ade252c8c7" args=")(N_LinkInitiator_Status_t status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="_n___link_initiator_8h.html#ad418cca4484cff022994c7ade252c8c7">N_LinkInitiator_IdentifyRequestDone_t</a>)(<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a> status)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Completion callback for N_LinkInitiator_IdentifyStartRequest and N_LinkInitiator_IdentifyStopRequest. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The result of the call </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_n___link_initiator_8h_source.html#l00158">158</a> of file <a class="el" href="_n___link_initiator_8h_source.html">N_LinkInitiator.h</a>.</p>

</div>
</div>
<a class="anchor" id="abaa8336dbdd40442bea142ddf66e6ce4"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_ResetDeviceToFactoryNewDone_t" ref="abaa8336dbdd40442bea142ddf66e6ce4" args=")(N_LinkInitiator_Status_t status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="_n___link_initiator_8h.html#abaa8336dbdd40442bea142ddf66e6ce4">N_LinkInitiator_ResetDeviceToFactoryNewDone_t</a>)(<a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a> status)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Completion callback for N_LinkInitiator_ResetDevice. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The result of the call </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_n___link_initiator_8h_source.html#l00163">163</a> of file <a class="el" href="_n___link_initiator_8h_source.html">N_LinkInitiator.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ab67534234e8f65016bdf6bd7645dcb04"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_Status_t" ref="ab67534234e8f65016bdf6bd7645dcb04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_n___link_initiator_8h.html#ab67534234e8f65016bdf6bd7645dcb04">N_LinkInitiator_Status_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ab67534234e8f65016bdf6bd7645dcb04a33b51176c34dfcb162cf9669ace5cada"></a><!-- doxytag: member="N_LinkInitiator_Status_Ok" ref="ab67534234e8f65016bdf6bd7645dcb04a33b51176c34dfcb162cf9669ace5cada" args="" -->N_LinkInitiator_Status_Ok</em>&nbsp;</td><td>
<p>The action succeeded. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab67534234e8f65016bdf6bd7645dcb04afb38605cf78946540e99216e4d28c910"></a><!-- doxytag: member="N_LinkInitiator_Status_Failure" ref="ab67534234e8f65016bdf6bd7645dcb04afb38605cf78946540e99216e4d28c910" args="" -->N_LinkInitiator_Status_Failure</em>&nbsp;</td><td>
<p>The action failed. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab67534234e8f65016bdf6bd7645dcb04adbfdd3462f6fd356789b7f94c5975eae"></a><!-- doxytag: member="N_LinkInitiator_Status_Stopped" ref="ab67534234e8f65016bdf6bd7645dcb04adbfdd3462f6fd356789b7f94c5975eae" args="" -->N_LinkInitiator_Status_Stopped</em>&nbsp;</td><td>
<p>The action was stopped by the user. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab67534234e8f65016bdf6bd7645dcb04aacccf5ea2345a1da62c84714b5de57fe"></a><!-- doxytag: member="N_LinkInitiator_Status_Timeout" ref="ab67534234e8f65016bdf6bd7645dcb04aacccf5ea2345a1da62c84714b5de57fe" args="" -->N_LinkInitiator_Status_Timeout</em>&nbsp;</td><td>
<p>The JoinDevice failed due a timeout. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab67534234e8f65016bdf6bd7645dcb04a02b7e08719411de7f2b1c854536b2e2d"></a><!-- doxytag: member="N_LinkInitiator_Status_CommunicationNotEstablished" ref="ab67534234e8f65016bdf6bd7645dcb04a02b7e08719411de7f2b1c854536b2e2d" args="" -->N_LinkInitiator_Status_CommunicationNotEstablished</em>&nbsp;</td><td>
<p>The JoinDevice succeeded, but could not communicate to the target device within a timeout, for example due to a lack of a parent. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_n___link_initiator_8h_source.html#l00105">105</a> of file <a class="el" href="_n___link_initiator_8h_source.html">N_LinkInitiator.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a61e1f74d13e0f0679ef367fa94a82ee0"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_Subscribe" ref="a61e1f74d13e0f0679ef367fa94a82ee0" args="(const N_LinkInitiator_Callback_t *pCb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void N_LinkInitiator_Subscribe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_n___link_initiator___callback__t.html">N_LinkInitiator_Callback_t</a> *&#160;</td>
          <td class="paramname"><em>pCb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Subscribe to indication callbacks from this component. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pCb</td><td>Pointer to structure with callback functions </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6fdf9630ec98c191652c7bc70ac1e7fc"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_Scan" ref="a6fdf9630ec98c191652c7bc70ac1e7fc" args="(N_LinkInitiator_ScanType_t scanType, N_LinkInitiator_Device_t dev[], uint8_t devArraySize, N_LinkInitiator_ScanDone_t pfDoneCallback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void N_LinkInitiator_Scan </td>
          <td>(</td>
          <td class="paramtype">N_LinkInitiator_ScanType_t&#160;</td>
          <td class="paramname"><em>scanType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a>&#160;</td>
          <td class="paramname"><em>dev</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>devArraySize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n___link_initiator_8h.html#a4c998a316ba0ee50af6ad9f6707e3b2d">N_LinkInitiator_ScanDone_t</a>&#160;</td>
          <td class="paramname"><em>pfDoneCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Scan for devices. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">scanType</td><td>Indicates whether to do a scan for touchlink and optionally return only devices belonging to own PAN or scan on more channels. </td></tr>
    <tr><td class="paramname">dev</td><td>Client-allocated array that is at least devArraySize elements large, to store found devices. </td></tr>
    <tr><td class="paramname">devArraySize</td><td>Maximum number of devices to return. </td></tr>
    <tr><td class="paramname">pfDoneCallback</td><td>Callback function pointer that is called upon completion. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="_n___link_initiator_8h.html#a4c998a316ba0ee50af6ad9f6707e3b2d">N_LinkInitiator_ScanDone_t</a>.</dd></dl>
<p>Initiates a Scan. When the completion function is called, the dev[] array is filled with found devices, sorted on (corrected) RSSI values and taking the Touchlink Priority bit into account.</p>
<p>The N_LinkInitiator_ScanType_IncludeSecondaryChannels option can be used for touchlinking to scan both primary and secondary channels. Scanning the secondary channels takes an extra 3 seconds.</p>
<p>The application must decide when to scan the secondary channels and when to scan the primary channels only. Use the following guidelines:</p>
<ol type="1">
<li>In a network with a central trust center (see <a class="el" href="_n___device_info_8h.html#a7de98c49fdf5ecec502ef9b983fc7dfe">N_DeviceInfo_GetTrustCenterMode</a>), always scan both primary and secondary channels.</li>
<li>When scanning to find a device to reset to factory defaults, always scan both primary and secondary channels.</li>
<li>In all other situations, scan the primary channels only. This will speed up scanning.</li>
</ol>
<ul>
<li>The Touchlink scan sequence is described in the ZLL specification. Summarized, it first sends five InterPan ScanRequest commands on the first channel of the primary channel mask, followed by one InterPan ScanRequest command on each of the other channels of the primary channel mask. Then, this is optionally followed by one InterPan ScanRequest command on each of the channels of the secondary channel mask. All of these ScanRequest commands are separated by 250 milliseconds.</li>
</ul>
<p>Any type of scan sequence can be stopped by calling <a class="el" href="_n___link_initiator_8h.html#aa7b369c3aa4155182dd16f7781895cd0">N_LinkInitiator_StopScan</a>. </p>

</div>
</div>
<a class="anchor" id="aa7b369c3aa4155182dd16f7781895cd0"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_StopScan" ref="aa7b369c3aa4155182dd16f7781895cd0" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void N_LinkInitiator_StopScan </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Requests a busy scan to stop. The client still needs to wait for the <a class="el" href="_n___link_initiator_8h.html#a4c998a316ba0ee50af6ad9f6707e3b2d">N_LinkInitiator_ScanDone_t</a> completion callback to be called. </p>

</div>
</div>
<a class="anchor" id="a09895cc52efae4ec88fbda58593fec16"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_IdentifyStartRequest" ref="a09895cc52efae4ec88fbda58593fec16" args="(N_LinkInitiator_Device_t *pDev, uint16_t timeoutInSec, N_LinkInitiator_IdentifyRequestDone_t pfDoneCallback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void N_LinkInitiator_IdentifyStartRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a> *&#160;</td>
          <td class="paramname"><em>pDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeoutInSec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n___link_initiator_8h.html#ad418cca4484cff022994c7ade252c8c7">N_LinkInitiator_IdentifyRequestDone_t</a>&#160;</td>
          <td class="paramname"><em>pfDoneCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send an IdentifyStartRequest to a scanned device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pDev</td><td>A device returned from a scan (for example the first entry of the array). </td></tr>
    <tr><td class="paramname">timeoutInSec</td><td>The identify timeout, in seconds, or N_LINK_IDENTIFY_TIME_DEFAULT. </td></tr>
    <tr><td class="paramname">pfDoneCallback</td><td>The completion function pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3a790950ec459a57ea7d22e7343b09f6"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_IdentifyStopRequest" ref="a3a790950ec459a57ea7d22e7343b09f6" args="(N_LinkInitiator_Device_t *pDev, N_LinkInitiator_IdentifyRequestDone_t pfDoneCallback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void N_LinkInitiator_IdentifyStopRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a> *&#160;</td>
          <td class="paramname"><em>pDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n___link_initiator_8h.html#ad418cca4484cff022994c7ade252c8c7">N_LinkInitiator_IdentifyRequestDone_t</a>&#160;</td>
          <td class="paramname"><em>pfDoneCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send an IdentifyStopRequest to a scanned device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pDev</td><td>A device returned from a scan (for example the first entry of the array). </td></tr>
    <tr><td class="paramname">pfDoneCallback</td><td>The completion function pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af3e12e69b729196078c8b6c6239e17b7"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_DeviceInfoRequest" ref="af3e12e69b729196078c8b6c6239e17b7" args="(N_LinkInitiator_Device_t *pDev, N_InterPan_DeviceInfo_t epInfo[], uint8_t epInfoArraySize, N_LinkInitiator_DeviceInfoRequestDone_t pfDoneCallback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void N_LinkInitiator_DeviceInfoRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a> *&#160;</td>
          <td class="paramname"><em>pDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_n___inter_pan___device_info__t.html">N_InterPan_DeviceInfo_t</a>&#160;</td>
          <td class="paramname"><em>epInfo</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>epInfoArraySize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n___link_initiator_8h.html#a24b7bd9351b2921a28dea5cc5b7e80c0">N_LinkInitiator_DeviceInfoRequestDone_t</a>&#160;</td>
          <td class="paramname"><em>pfDoneCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sends a DeviceInfoRequest to a scanned device. Can be used to obtain additional endpoint information of the device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pDev</td><td>A device returned from a scan (for example the first entry of the array) </td></tr>
    <tr><td class="paramname">epInfo</td><td>Client-allocated array that is used to store found endpoint information </td></tr>
    <tr><td class="paramname">epInfoArraySize</td><td>The size of the epInfo array (# of elements) must greater than or equal to pDev-&gt;scanResponse.numberSubDevices </td></tr>
    <tr><td class="paramname">pfDoneCallback</td><td>The completion function pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Depending on the number of sub-devices (application endpoints) of the selected device, this may cause zero or more InterPan DeviceInfoRequest commands to be sent. When the device has exactly one sub-device, no InterPan DeviceInfoRequest command is sent at all - the information is just copied from the passed <a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a> structure. </dd></dl>

</div>
</div>
<a class="anchor" id="a856507deb53edcc39b2e26873d6bf968"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_JoinDevice" ref="a856507deb53edcc39b2e26873d6bf968" args="(N_LinkInitiator_Device_t *pTarget, bool skipCommunicationCheck, N_LinkInitiator_JoinDeviceDone_t pfDoneCallback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void N_LinkInitiator_JoinDevice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a> *&#160;</td>
          <td class="paramname"><em>pTarget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skipCommunicationCheck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n___link_initiator_8h.html#a05dd3e8f1f54609d1e74782911545933">N_LinkInitiator_JoinDeviceDone_t</a>&#160;</td>
          <td class="paramname"><em>pfDoneCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Join the target device to the network. If the initiator was factory new, it will join the network as well. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pTarget</td><td>The target device info (one of the scan results). The pointer must be valid until the completion callback is received. </td></tr>
    <tr><td class="paramname">skipCommunicationCheck</td><td>If true, N_LinkInitiator will not try to verify communcation after the target device is joined. The callback will return N_LinkInitiator_Status_CommunicationNotEstablished when done. </td></tr>
    <tr><td class="paramname">pfDoneCallback</td><td>Pointer to the function that will be called after the join sequence is completed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="_n___link_initiator_8h.html#a05dd3e8f1f54609d1e74782911545933">N_LinkInitiator_JoinDeviceDone_t</a></dd></dl>
<p>If the initiator is factory new, then a new network will be started and the initiator will join this network as well.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>It is not allowed to call any other N_LinkInitiator functions until the DeviceJoined callback is received. </dd></dl>

</div>
</div>
<a class="anchor" id="a65d806a02954a7858494530632924d71"></a><!-- doxytag: member="N_LinkInitiator.h::N_LinkInitiator_ResetDeviceToFactoryNew" ref="a65d806a02954a7858494530632924d71" args="(N_LinkInitiator_Device_t *pDev, N_LinkInitiator_ResetDeviceToFactoryNewDone_t pfDoneCallback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void N_LinkInitiator_ResetDeviceToFactoryNew </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_n___link_initiator___device__t.html">N_LinkInitiator_Device_t</a> *&#160;</td>
          <td class="paramname"><em>pDev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n___link_initiator_8h.html#abaa8336dbdd40442bea142ddf66e6ce4">N_LinkInitiator_ResetDeviceToFactoryNewDone_t</a>&#160;</td>
          <td class="paramname"><em>pfDoneCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset a device to factory defaults. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pDev</td><td>A device returned from a scan (for example the first entry of the array). </td></tr>
    <tr><td class="paramname">pfDoneCallback</td><td>The completion function pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr style="border-top:1px solid #C4CFE5; margin-top:20px"/>
</body>
</html>
