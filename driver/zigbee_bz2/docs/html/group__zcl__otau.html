<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PIC32CX-BZ Zigbee API Reference: OTAU</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PIC32CX-BZ Zigbee API Reference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">OTAU</div>  </div>
<div class="ingroups"><a class="el" href="group__zcl.html">ZCL functions</a></div></div>
<div class="contents">

<p>ZCL functions used to implement Over-The-AIR upgrade.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_z_c_l___cluster__t.html">ZCL_Cluster_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zcl__otau.html#gaea1627b240fdc2c95fc50a65397a7c5b">ZCL_GetOtauClientCluster</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets Otau's cluster.  <a href="#gaea1627b240fdc2c95fc50a65397a7c5b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_z_c_l___cluster__t.html">ZCL_Cluster_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zcl__otau.html#ga32ddcc51a15867126738baaa4f5e7841">ZCL_GetOtauServerCluster</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets Otau's cluster.  <a href="#ga32ddcc51a15867126738baaa4f5e7841"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="zcl_8h.html#ad5ed4e48a062501fc4f9a9378cffe0da">ZCL_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zcl__otau.html#ga559d1b6c9ad109b92a660bd57d277187">ZCL_StartOtauService</a> (<a class="el" href="struct_z_c_l___otau_init_params__t.html">ZCL_OtauInitParams_t</a> *pInitParam, ZCL_OtauStatInd_t ind)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">OTAU parametres initialization. Start server discovery procedure on client side or start server.  <a href="#ga559d1b6c9ad109b92a660bd57d277187"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="zcl_8h.html#ad5ed4e48a062501fc4f9a9378cffe0da">ZCL_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zcl__otau.html#ga4cf7cf2d1daa1ccf4a619c41a4d0c96a">ZCL_StopOtauService</a> (<a class="el" href="struct_z_c_l___otau_init_params__t.html">ZCL_OtauInitParams_t</a> *pInitParam)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop OTAU service. (It is not implemented for client)  <a href="#ga4cf7cf2d1daa1ccf4a619c41a4d0c96a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zcl__otau.html#ga067377ba31a160eb01a8c6f64629b30d">ZCL_UnsolicitedUpgradeEndResp</a> (<a class="el" href="struct_z_c_l___addressing__t.html">ZCL_Addressing_t</a> *addressing, <a class="el" href="struct_z_c_l___otau_upgrade_end_resp__t.html">ZCL_OtauUpgradeEndResp_t</a> *resp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The server may send an unsolicited Upgrade End Response command to the client. This may be used for example if the server wants to synchronize the upgrade on multiple clients simultaneously.  <a href="#ga067377ba31a160eb01a8c6f64629b30d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zcl__otau.html#ga4e7db8ecc02554798156cf94a84ab7e0">ZCL_ImageNotifyReq</a> (<a class="el" href="struct_z_c_l___addressing__t.html">ZCL_Addressing_t</a> *addressing, <a class="el" href="struct_z_c_l___otau_image_notify__t.html">ZCL_OtauImageNotify_t</a> *resp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This is called by the server to send image notify command to client.  <a href="#ga4e7db8ecc02554798156cf94a84ab7e0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zcl__otau.html#ga3399eb9729b9cdb95d1b8e23405750c5">ZCL_ConfigureOtauImageKey</a> (void(*configureKeyDone)())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">configure OTAU image key  <a href="#ga3399eb9729b9cdb95d1b8e23405750c5"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>ZCL functions used to implement Over-The-AIR upgrade. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaea1627b240fdc2c95fc50a65397a7c5b"></a><!-- doxytag: member="zclOTAUCluster.h::ZCL_GetOtauClientCluster" ref="gaea1627b240fdc2c95fc50a65397a7c5b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_z_c_l___cluster__t.html">ZCL_Cluster_t</a> ZCL_GetOtauClientCluster </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets Otau's cluster. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Otau's client cluster </dd></dl>

</div>
</div>
<a class="anchor" id="ga32ddcc51a15867126738baaa4f5e7841"></a><!-- doxytag: member="zclOTAUCluster.h::ZCL_GetOtauServerCluster" ref="ga32ddcc51a15867126738baaa4f5e7841" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_z_c_l___cluster__t.html">ZCL_Cluster_t</a> ZCL_GetOtauServerCluster </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets Otau's cluster. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Otau's server cluster </dd></dl>

</div>
</div>
<a class="anchor" id="ga559d1b6c9ad109b92a660bd57d277187"></a><!-- doxytag: member="zclOTAUCluster.h::ZCL_StartOtauService" ref="ga559d1b6c9ad109b92a660bd57d277187" args="(ZCL_OtauInitParams_t *pInitParam, ZCL_OtauStatInd_t ind)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zcl_8h.html#ad5ed4e48a062501fc4f9a9378cffe0da">ZCL_Status_t</a> ZCL_StartOtauService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_z_c_l___otau_init_params__t.html">ZCL_OtauInitParams_t</a> *&#160;</td>
          <td class="paramname"><em>pInitParam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ZCL_OtauStatInd_t&#160;</td>
          <td class="paramname"><em>ind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>OTAU parametres initialization. Start server discovery procedure on client side or start server. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pInitParam</td><td>- pointer to init structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ind</td><td>- indication for OTAU actions <br/>
 ("ind" can be NULL if indication is not required.)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Service status </dd></dl>

</div>
</div>
<a class="anchor" id="ga4cf7cf2d1daa1ccf4a619c41a4d0c96a"></a><!-- doxytag: member="zclOTAUCluster.h::ZCL_StopOtauService" ref="ga4cf7cf2d1daa1ccf4a619c41a4d0c96a" args="(ZCL_OtauInitParams_t *pInitParam)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zcl_8h.html#ad5ed4e48a062501fc4f9a9378cffe0da">ZCL_Status_t</a> ZCL_StopOtauService </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_z_c_l___otau_init_params__t.html">ZCL_OtauInitParams_t</a> *&#160;</td>
          <td class="paramname"><em>pInitParam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop OTAU service. (It is not implemented for client) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pInitParam</td><td>- pointer to init structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Service status </dd></dl>

</div>
</div>
<a class="anchor" id="ga067377ba31a160eb01a8c6f64629b30d"></a><!-- doxytag: member="zclOTAUCluster.h::ZCL_UnsolicitedUpgradeEndResp" ref="ga067377ba31a160eb01a8c6f64629b30d" args="(ZCL_Addressing_t *addressing, ZCL_OtauUpgradeEndResp_t *resp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ZCL_UnsolicitedUpgradeEndResp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_z_c_l___addressing__t.html">ZCL_Addressing_t</a> *&#160;</td>
          <td class="paramname"><em>addressing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_z_c_l___otau_upgrade_end_resp__t.html">ZCL_OtauUpgradeEndResp_t</a> *&#160;</td>
          <td class="paramname"><em>resp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The server may send an unsolicited Upgrade End Response command to the client. This may be used for example if the server wants to synchronize the upgrade on multiple clients simultaneously. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addressing</td><td>- pointer to structure with addressing information; </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resp</td><td>- pointer to upgrade end response payload</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true - data is sending, false - server is busy. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4e7db8ecc02554798156cf94a84ab7e0"></a><!-- doxytag: member="zclOTAUCluster.h::ZCL_ImageNotifyReq" ref="ga4e7db8ecc02554798156cf94a84ab7e0" args="(ZCL_Addressing_t *addressing, ZCL_OtauImageNotify_t *resp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ZCL_ImageNotifyReq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_z_c_l___addressing__t.html">ZCL_Addressing_t</a> *&#160;</td>
          <td class="paramname"><em>addressing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_z_c_l___otau_image_notify__t.html">ZCL_OtauImageNotify_t</a> *&#160;</td>
          <td class="paramname"><em>resp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is called by the server to send image notify command to client. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addressing</td><td>- pointer to structure with addressing information; </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resp</td><td>- pointer to image notify command payload</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true - data is sending, false - server is busy. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3399eb9729b9cdb95d1b8e23405750c5"></a><!-- doxytag: member="zclOTAUCluster.h::ZCL_ConfigureOtauImageKey" ref="ga3399eb9729b9cdb95d1b8e23405750c5" args="(void(*configureKeyDone)())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ZCL_ConfigureOtauImageKey </td>
          <td>(</td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"><em>configureKeyDone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>configure OTAU image key </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">configureKeyDone</td><td>- callback after key is written. can be set to NULL if callback is not required</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

</div>
</div>
</div>
<hr style="border-top:1px solid #C4CFE5; margin-top:20px"/>
</body>
</html>
